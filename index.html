<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>พลังแห่งธาตุที่ซ่อนอยู่</title>
    <!-- Load Tailwind CSS CDN for quick and responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Google Font: Kanit for Thai font -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* Set Kanit font for the entire document */
        html, body {
            height: 100%; /* Ensure html and body take full viewport height */
            margin: 0;
            padding: 0;
            overflow: hidden; /* Hide scrollbar on body by default */
        }
        body {
            font-family: 'Kanit', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #E0F2F7, #E8F8F0, #F7FCFE, #FFFFFF); /* Default body background */
        }

        /* New wrapper to enforce portrait aspect ratio */
        #game-wrapper {
            position: relative; /* For absolute positioning of game screens */
            width: 100%; /* Take full width of parent */
            max-width: 600px; /* Max width for wider screens */
            height: 100%; /* Take full height of parent initially */
            max-height: 100vh; /* Ensure it doesn't exceed viewport height */
            aspect-ratio: 9 / 16; /* Enforce portrait aspect ratio (width / height) */
            background-color: #fff; /* Fallback background for the wrapper */
            box-shadow: 0 0 20px rgba(0,0,0,0.2); /* Subtle shadow for game area */
            border-radius: 15px; /* Rounded corners for the game frame */
            overflow: hidden; /* Hide anything outside this wrapper */
            display: flex; /* Flexbox for centering content inside */
            justify-content: center;
            align-items: center;
        }

        /* Styles for Intro and Question screens */
        .game-screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%; /* Fill the game-wrapper */
            height: 100%; /* Fill the game-wrapper */
            text-align: center;
            position: absolute; /* Position absolute to overlay within game-wrapper */
            top: 0;
            left: 0;
            opacity: 0; /* Start hidden */
            transition: opacity 1s ease-in-out; /* Add transition for display */
            background-size: cover; /* Cover entire area */
            background-position: center; /* Center position */
            padding-top: 2rem; /* Adjusted padding for portrait mode */
            padding-bottom: 2rem;
            box-sizing: border-box; /* Ensure padding is included in height calculation */
            overflow-y: auto; /* Allow vertical scrolling on game screens if content overflows */
        }

        .game-screen.active {
            opacity: 1; /* Show active screen */
            z-index: 10; /* Bring active screen to front */
        }

        /* Background for Intro 1 (Softer tones with white base) */
        .bg-intro1 {
            background: linear-gradient(135deg, #E0F2F7, #E8F8F0, #F7FCFE, #FFFFFF);
        }

        /* Background for Intro 2 (Adjusted to a slightly different soft tone with white base) */
        .bg-intro2 {
            background: linear-gradient(135deg, #FFF0E0, #F0F8E8, #FFFAFA, #FFFFFF);
        }

        /* Background for Intro 3 (Similar soft tone, perhaps slightly different tint for variety) */
        .bg-intro3 {
            background: linear-gradient(135deg, #F0FFF0, #E0F0FF, #F8F8FF, #FFFFFF);
        }
        /* Background for Intro 4 (Another soft, consistent tone) */
        .bg-intro4 {
            background: linear-gradient(135deg, #EBF8F5, #F5FBEF, #FBFEF8, #FFFFFF);
        }
        /* Background for Intro 5 & 6 (Festival theme) */
        .bg-intro5 {
            background: linear-gradient(135deg, #FEF9E7, #FCF3CF, #FDF9E0, #FFFFFF);
        }
        .bg-intro6 {
            background: linear-gradient(135deg, #FCEFE2, #FDF4E6, #FFF9F2, #FFFFFF);
        }
        /* Background for Intro 7, 8, 9 (Outro theme) */
        .bg-intro7 {
            background: linear-gradient(135deg, #EAE0F5, #F0E8F8, #F7F0FC, #FFFFFF);
        }
        .bg-intro8 {
            background: linear-gradient(135deg, #E0EFF5, #E8F5EF, #F0F9F5, #FFFFFF);
        }
        .bg-intro9 {
            background: linear-gradient(135deg, #F0F0FF, #EBF0FF, #F5F8FF, #FFFFFF);
        }


        /* Background for Question (Softer tones with white base) */
        .bg-question1 {
            background: linear-gradient(135deg, #E0F7FA, #F0F8F5, #F9FCFF, #FFFFFF);
        }
        .bg-question2 {
            background: linear-gradient(135deg, #FADDEB, #FCEFE2, #FFF7F2, #FFFFFF);
        }
        .bg-question3 {
            background: linear-gradient(135deg, #EAFCE2, #F2FCF0, #F9FFF8, #FFFFFF);
        }
        .bg-question4 {
            background: linear-gradient(135deg, #E2F0FC, #EAF3F9, #F5FAFF, #FFFFFF);
        }
        .bg-question6 {
            background: linear-gradient(135deg, #EFF8FF, #F5F9FF, #FBFDFF, #FFFFFF);
        }
        .bg-question7 {
            background: linear-gradient(135deg, #FFF5EC, #FFFBEB, #FFFEEF, #FFFFFF);
        }
        .bg-question8 {
            background: linear-gradient(135deg, #F0FCEC, #F8FFFA, #FDFEFF, #FFFFFF);
        }
        .bg-question9 {
            background: linear-gradient(135deg, #F5EBFB, #F8F0FB, #FCF5FF, #FFFFFF);
        }
        .bg-question10 {
            background: linear-gradient(135deg, #FBE0E7, #FDE8EF, #FEF0F5, #FFFFFF);
        }
        .bg-question11 {
            background: linear-gradient(135deg, #EBF5F0, #F0FBEF, #F5FDF5, #FFFFFF);
        }
        .bg-question12 {
            background: linear-gradient(135deg, #E0EDF8, #EAF3F9, #F0F8FD, #FFFFFF);
        }

        /* Background for Result screen */
        .bg-result {
            /* Default, will be overridden by JS */
            background: linear-gradient(135deg, #E8F0F7, #E0F5EB, #F0F5FA, #FFFFFF);
        }

        /* Background for Loading screen */
        .bg-loading {
            background-color: #000000; /* Solid black background */
        }

        /* Intro text style */
        .intro-text-container {
            max-width: 90%; /* Increased for better readability in portrait */
            margin-bottom: 2rem;
            color: #333; /* Darker text color */
            font-size: 1.15rem; /* Adjusted font size */
            font-weight: 300; /* Lighter font weight */
        }

        .intro-text-container p {
            opacity: 0; /* Start hidden */
            animation: fadeInText 0.8s forwards; /* Reduced animation duration for faster text */
            line-height: 1.8; /* Line spacing */
            margin-bottom: 0.8rem; /* Adjusted margin between paragraphs */
        }

        /* Adjusted Delay for sequential text appearance (faster) */
        #intro1 .intro-text-container p:nth-child(1) { animation-delay: 0.0s; }
        #intro1 .intro-text-container p:nth-child(2) { animation-delay: 0.8s; }
        #intro1 .intro-text-container p:nth-child(3) { animation-delay: 1.6s; }
        #intro1 .intro-text-container p:nth-child(4) { animation-delay: 2.4s; }
        #intro1 .intro-text-container p:nth-child(5) { animation-delay: 3.2s; }

        #intro2 .intro-text-container p:nth-child(1) { animation-delay: 0.0s; }
        #intro2 .intro-text-container p:nth-child(2) { animation-delay: 0.8s; }
        #intro2 .intro-text-container p:nth-child(3) { animation-delay: 1.6s; }
        #intro2 .intro-text-container p:nth-child(4) { animation-delay: 2.4s; }

        #intro3 .intro-text-container p:nth-child(1) { animation-delay: 0.0s; }
        #intro3 .intro-text-container p:nth-child(2) { animation-delay: 0.8s; }
        #intro3 .intro-text-container p:nth-child(3) { animation-delay: 1.6s; }

        #intro4 .intro-text-container p:nth-child(1) { animation-delay: 0.0s; }
        #intro4 .intro-text-container p:nth-child(2) { animation-delay: 0.8s; }
        #intro4 .intro-text-container p:nth-child(3) { animation-delay: 1.6s; }

        #intro5 .intro-text-container p:nth-child(1) { animation-delay: 0.0s; }
        #intro5 .intro-text-container p:nth-child(2) { animation-delay: 0.8s; }
        #intro5 .intro-text-container p:nth-child(3) { animation-delay: 1.6s; }
        #intro5 .intro-text-container p:nth-child(4) { animation-delay: 2.4s; }

        #intro6 .intro-text-container p:nth-child(1) { animation-delay: 0.0s; }
        #intro6 .intro-text-container p:nth-child(2) { animation-delay: 0.8s; }

        #intro7 .intro-text-container p:nth-child(1) { animation-delay: 0.0s; }
        #intro8 .intro-text-container p:nth-child(1) { animation-delay: 0.0s; }
        #intro9 .intro-text-container p:nth-child(1) { animation-delay: 0.0s; }

        /* Animation for gradual text appearance */
        @keyframes fadeInText {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* "Tap to continue" style */
        .tap-to-continue {
            color: rgba(0, 0, 0, 0.4);
            font-size: 1.1rem; /* Slightly smaller */
            margin-top: 1.5rem; /* Adjusted margin */
            cursor: pointer;
            visibility: hidden;
            opacity: 0;
            animation: pulse 1.5s infinite alternate;
            transition: opacity 0.0s, visibility 0.0s;
            pointer-events: none;
        }

        .tap-to-continue.show-active {
            visibility: visible;
            opacity: 1;
            pointer-events: auto;
        }

        /* Styles for auto-advance intros (no tap required) */
        .intro-auto-advance .tap-to-continue {
            display: none;
        }

        @keyframes pulse {
            from { opacity: 0.4; }
            to { opacity: 0.8; }
        }

        /* Answer button style */
        .answer-button {
            background-color: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(5px);
            color: #333;
            padding: 0.8rem 1.5rem; /* Adjusted padding */
            margin: 0.6rem; /* Adjusted margin */
            border-radius: 9999px;
            border: 2px solid rgba(0, 0, 0, 0.1);
            font-size: 0.95rem; /* Adjusted font size */
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 95%; /* Fill more width in portrait */
            max-width: 500px; /* Adjusted max-width */
            text-align: left;
            box-sizing: border-box;
        }

        .answer-button:hover {
            background-color: rgba(255, 255, 255, 0.9);
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        /* Styles for message box (replaces alert) */
        .message-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 10px;
            z-index: 1000;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
            text-align: center;
        }
        .message-box.show {
            display: block;
            opacity: 1;
        }

        /* Hourglass Emoji for loading screen */
        .loading-content .hourglass-emoji {
            font-size: 3rem;
            margin-top: 20px;
            display: inline-block;
            animation: spin 2.5s infinite linear;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .loading-content {
            font-size: 1.4rem; /* Adjusted font size */
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .loading-content p {
            animation: none;
            opacity: 1;
        }

        /* Custom class for the main result card background to make it lighter */
        .bg-result-card {
            background-color: rgba(255, 255, 255, 0.6); /* 60% opaque white for lighter feel */
        }

        /* Adjustments for the result screen */
        #resultScreen {
            padding-top: 1rem; /* Reduced top padding */
            padding-bottom: 1rem; /* Reduced bottom padding */
            justify-content: flex-start; /* Align content to the top */
            align-items: center; /* Center content horizontally */
            overflow-y: auto; /* Allow scrolling for results if content is long */
        }

        /* Adjust main result card padding and max-width */
        .result-card-container {
            padding: 0.85rem; /* Slightly increased padding for text */
            max-width: 95%; /* Use percentage for fluid width */
            width: 95%; /* Use percentage for fluid width */
            box-sizing: border-box; /* Include padding in width/height */
            margin-top: 0.8rem; /* Small top margin to avoid clipping, let overflow handle if needed */
            margin-bottom: 0.8rem; /* Small bottom margin */
        }

        /* Responsive max-width for larger screens (Tailwind breakpoints) */
        @media (min-width: 640px) { /* sm breakpoint */
            .result-card-container {
                max-width: 500px; /* Adjusted for larger portrait screens */
                padding: 1.15rem;
            }
            .intro-text-container {
                font-size: 1.25rem; /* Restore slightly larger font on wider screens */
            }
            .answer-button {
                font-size: 1.05rem; /* Restore slightly larger font on wider screens */
            }
            .loading-content {
                font-size: 1.45rem; /* Restore larger font on wider screens */
            }
        }
        @media (min-width: 768px) { /* md breakpoint */
            #game-wrapper {
                max-width: 768px; /* Wider for tablets */
                max-height: 90vh; /* Adjust max height for larger screens */
            }
            .result-card-container {
                max-width: 600px; /* Adjusted for larger portrait screens */
                padding: 1.4rem;
            }
        }
        @media (min-width: 1024px) { /* lg breakpoint */
            #game-wrapper {
                max-width: 900px; /* Even wider for large desktops */
            }
            .result-card-container {
                max-width: 700px; /* Adjusted for larger portrait screens */
                padding: 1.65rem;
            }
        }

        /* Font size adjustments for general result display elements */
        .result-card-container h1 { font-size: 1.55rem; } /* Adjusted for better fit */
        .result-card-container h2 { font-size: 1.25rem; } /* Adjusted */
        .result-card-container .element-icon { font-size: 2.9rem; } /* Adjusted icon size */
        .result-card-container p { font-size: 0.88rem; } /* Adjusted base text size */
        .result-card-container .text-sm-custom { font-size: 0.78rem; } /* Adjusted */
        .result-card-container .text-xs-custom { font-size: 0.67rem; } /* Adjusted */

        /* Specific adjustments for very small screens (portrait mobile) */
        @media (max-width: 480px) {
            .intro-text-container {
                font-size: 0.95rem; /* Further reduced for smallest screens */
            }
            .answer-button {
                font-size: 0.8rem; /* Further reduced for smallest screens */
                padding: 0.5rem 0.8rem; /* Adjusted padding */
            }
            .game-screen h2 { /* Targeting question headers specifically on small screens */
                font-size: 1.0rem; /* Adjusted for smallest screens */
            }
            .result-card-container h1 { font-size: 1.2rem; }
            .result-card-container h2 { font-size: 0.9rem; }
            .result-card-container .element-icon { font-size: 2.4rem; }
            .result-card-container p { font-size: 0.75rem; }
            .result-card-container .text-sm-custom { font-size: 0.65rem; }
            .result-card-container .text-xs-custom { font-size: 0.55rem; }
            .loading-content p { font-size: 1.1rem; }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-200 via-green-200 to-white">
    <!-- Message box -->
    <div id="messageBox" class="message-box">
        <p id="messageText"></p>
        <button id="messageCloseButton" class="mt-4 px-4 py-2 bg-blue-500 rounded-lg">ตกลง</button>
    </div>

    <!-- Game Wrapper to enforce aspect ratio -->
    <div id="game-wrapper">
        <!-- Intro 1 -->
        <div id="intro1" class="game-screen bg-intro1 active">
            <div class="intro-text-container">
                <p>ณ ดินแดนศักดิ์สิทธิ์มู่คา</p>
                <p>ดินแดนแห่งการศึกษา<br>อันเปี่ยมด้วยพลังแห่งธรรมชาติ</p>
                <p>ในทุกขวบปี เหล่าเด็กอัจฉริยะ<br>จากทั่วสารทิศต่างมุ่งหน้าสู่ที่นี่</p>
                <p>เพื่อเข้าศึกษาในสำนักเลื่องชื่อ<br>แห่งธาตุต่าง ๆ ทั่วพิภพ</p>
            </div>
            <div id="tapToContinue1" class="tap-to-continue">แตะเพื่อก้าวไปข้างหน้า</div>
        </div>

        <!-- Intro 2 -->
        <div id="intro2" class="game-screen bg-intro2">
            <div class="intro-text-container">
                <p>แม้นวิชาความรู้จะเป็นสิ่งสำคัญยิ่ง</p>
                <p>หากแต่จิตใจอันเปี่ยมด้วยคุณธรรม<br>ก็เป็นสิ่งที่มิอาจขาดได้</p>
                <p>ดังนั้น บททดสอบแรก<br>ที่เหล่าสำนักศึกษาจัดขึ้นแก่ศิษย์ทั้งปวง</p>
                <p>จึงมีนามว่า “ปณิธานแห่งเมตตา”</p>
            </div>
            <div id="tapToContinue2" class="tap-to-continue">แตะเพื่อก้าวไปข้างหน้า</div>
        </div>

        <!-- Question 1 -->
        <div id="question1" class="game-screen bg-question1">
            <h2 class="font-bold mb-8 text-gray-800 px-4">
                ในการทดสอบ “ปณิธานแห่งเมตตา” นี้<br>
                ท่านต้องจัดการวิกฤตผู้อพยพ<br>ในภาวะทรัพยากรจำกัด<br>
                ด้วยเมตตาธรรม ท่านจะทำเช่นไร?
            </h2>
            <div class="flex flex-col items-center w-full max-w-2xl">
                <button class="answer-button" data-choice="Q1A">เปิดรับผู้อพยพอย่างเต็มใจ แบ่งปันทรัพยากรเท่าที่มี แม้ชาวมู่คาต้องอดออมมากขึ้น</button>
                <button class="answer-button" data-choice="Q1B">จัดระเบียบผู้อพยพอย่างรัดกุม จัดสรรปันส่วนทรัพยากรอย่างยุติธรรม พร้อมส่งคนออกสำรวจหาแหล่งใหม่</button>
                <button class="answer-button" data-choice="Q1C">สืบหาสาเหตุการอพยพ เพื่อหาทางแก้ไขปัญหาที่ต้นเหตุ พร้อมเจรจาบกับทุกฝ่ายหาทางออกที่ยั่งยืน</button>
                <button class="answer-button" data-choice="Q1D">ปกป้องทรัพยากรของชาวมู่คาก่อนเป็นอันดับแรก พร้อมส่งสารขอความร่วมมือจากดินแดนอื่นเพื่อรับผู้อพยพไปบางส่วน</button>
            </div>
        </div>

        <!-- Intro 3 -->
        <div id="intro3" class="game-screen bg-intro3">
            <div class="intro-text-container">
                <p>เมื่อผ่านการทดสอบปณิธานแห่งเมตตามาได้</p>
                <p>ท่านจะถือว่าเป็นศิษย์ของสำนักอย่างแท้จริง</p>
                <p>หลังจากนี้ เหล่าศิษย์จะได้พบกับ<br>ศิษย์พี่และอาจารย์ของตน</p>
                <p>เพื่อเล่าเรียนและฝึกฝนความสามารถ<br>เตรียมพร้อมสำหรับเทศกาลประกายธาตุ</p>
            </div>
            <div id="tapToContinue3" class="tap-to-continue">แตะเพื่อก้าวไปข้างหน้า</div>
        </div>

        <!-- Question 2 -->
        <div id="question2" class="game-screen bg-question2">
            <h2 class="font-bold mb-8 text-gray-800 px-4">
                ยามฝึกหนัก ร่างกายอ่อนล้า<br>
                ศิษย์ชวนพัก ท่านจะทำเช่นไร?
            </h2>
            <div class="flex flex-col items-center w-full max-w-2xl">
                <button class="answer-button" data-choice="Q2A">ปฏิเสธอย่างสุภาพ มุ่งมั่นฝึกฝนให้บรรลุเป้าหมายที่ตั้งไว้</button>
                <button class="answer-button" data-choice="Q2B">พักผ่อนเพียงชั่วครู่ ฟื้นฟูร่างกายแล้วกลับมาฝึกต่อด้วยพลังที่เปี่ยมล้น</button>
                <button class="answer-button" data-choice="Q2C">ชวนศิษย์น้องมาฝึกฝนด้วยกัน เพื่อให้ทุกคนก้าวหน้าไปพร้อมกัน</button>
                <button class="answer-button" data-choice="Q2D">ใช้พลังจิตวิเคราะห์ว่าการพักผ่อนนี้จะส่งผลดีต่อการฝึกในระยะยาวหรือไม่ แล้วจึงตัดสินใจ</button>
            </div>
        </div>

        <!-- Question 3 -->
        <div id="question3" class="game-screen bg-question3">
            <h2 class="font-bold mb-8 text-gray-800 px-4">
                อาจารย์ชี้จุดบกพร่อง<br>
                ท่านจะน้อมรับและพัฒนาตนเยี่ยงไร?
            </h2>
            <div class="flex flex-col items-center w-full max-w-2xl">
                <button class="answer-button" data-choice="Q3A">น้อมรับคำตำหนิและมุ่งมั่นฝึกฝนให้หนักขึ้น เพื่อพิสูงจ์ตนเองว่าคู่ควร</button>
                <button class="answer-button" data-choice="Q3B">พยายามทำความเข้าใจคำชี้แนะอย่างลึกซึ้ง และขอคำแนะนำเพิ่มเติมจากอาจารย์</button>
                <button class="answer-button" data-choice="Q3C">ปล่อยวางคำตำหนิ และฝึกฝนตามทางของตน เพราะเชื่อมั่นในวิถีแห่งตน</button>
                <button class="answer-button" data-choice="Q3D">ค้นคว้าตำราวิชาด้วยตนเองอย่างถี่ถ้วน เพื่อหาทางแก้ไขจุดบกพร่อง</button>
            </div>
        </div>

        <!-- Question 4 -->
        <div id="question4" class="game-screen bg-question4">
            <h2 class="font-bold mb-8 text-gray-800 px-4">
                เผชิญปรากฏการณ์พลังงานลึกลับ<br>
                ท่านจะรับมือกับวิกฤตนี้เยี่ยงไร?
            </h2>
            <div class="flex flex-col items-center w-full max-w-2xl">
                <button class="answer-button" data-choice="Q4A">พยายามใช้พลังวิชาเดิมที่มีอยู่ทั้งหมด เพื่อบังคับให้สถานการณ์คลี่คลาย</button>
                <button class="answer-button" data-choice="Q4B">สังเกตการณ์อย่างถี่ถ้วน พยายามทำความเข้าใจธรรมชาติของปรากฏการณ์ ก่อนลงมือแก้ไข</button>
                <button class="answer-button" data-choice="Q4C">รีบกลับไปรายงานอาจารย์ผู้ทรงภูมิปัญญา เพื่อขอคำแนะนำและวิชาใหม่</button>
                <button class="answer-button" data-choice="Q4D">ใช้สัญชาตญาณและทดลองใช้พลังธาตุต่างๆ อย่างสร้างสรรค์ เพื่อค้นพบหนทางใหม่</button>
            </div>
        </div>

        <!-- Intro 4 -->
        <div id="intro4" class="game-screen bg-intro4">
            <div class="intro-text-container">
                <p>เมื่อฝึกฝนและเล่าเรียน<br>จนเข้าใจถึงแก่นของธาตุได้ระดับหนึ่ง</p>
                <p>สิ่งสำคัญก่อนจะเข้าร่วม<br>เทศกาลประกายธาตุก็คือ...<br>ความสามัคคี</p>
                <p>ดังนั้นเหล่าสำนักจึงมีบททดสอบ<br>ที่ชื่อว่า “ด่านผนึกใจ“<br>เพื่อขัดเกลาความสามัคคี<br>ให้กับเหล่าศิษย์ทั้งหลาย</p>
            </div>
            <div id="tapToContinue4" class="tap-to-continue">แตะเพื่อก้าวไปข้างหน้า</div>
        </div>

        <!-- Question 6 -->
        <div id="question6" class="game-screen bg-question6">
            <h2 class="font-bold mb-8 text-gray-800 px-4">
                ใน “ด่านผนึกใจ” ทีมเผชิญปริศนา<br>
                ท่านจะนำพาทีมก้าวข้ามอย่างไร?
            </h2>
            <div class="flex flex-col items-center w-full max-w-2xl">
                <button class="answer-button" data-choice="Q6A">นำโดยตัวเอง วางแผนและสั่งการให้ผู้อื่นทำตาม</button>
                <button class="answer-button" data-choice="Q6B">รับฟังความคิดเห็นของทุกคน หาจุดร่วม และแบ่งงานตามความถนัด</button>
                <button class="answer-button" data-choice="Q6C">ให้ทุกคนลองผิดลองถูกด้วยตนเอง เพื่อให้เรียนรู้จากประสบการณ์</button>
                <button class="answer-button" data-choice="Q6D">ให้กำลังใจและสนับสนุนเพื่อนร่วมทีม แม้ตนเองจะไม่เข้าใจปริศนานั้นทั้งหมด</button>
            </div>
        </div>

        <!-- Question 7 -->
        <div id="question7" class="game-screen bg-question7">
            <h2 class="font-bold mb-8 text-gray-800 px-4">
                ความคิดเห็นขัดแย้ง<br>จนอาจนำไปสู่ความแตกแยก<br>
                ท่านจะแก้ไขสถานการณ์นี้อย่างไร?
            </h2>
            <div class="flex flex-col items-center w-full max-w-2xl">
                <button class="answer-button" data-choice="Q7A">เข้าไประงับข้อขัดแย้งอย่างเด็ดขาด ตัดสินใจเพื่อประโยชน์ของกลุ่ม</button>
                <button class="answer-button" data-choice="Q7B">เปิดโอกาสให้ทุกคนได้แสดงความคิดเห็นอย่างเต็มที่ เพื่อให้เกิดความเข้าใจซึ่งกันและกัน</button>
                <button class="answer-button" data-choice="Q7C">แยกตัวออกมาเพื่อให้แต่ละฝ่ายได้สงบลง แล้วค่อยหาทางเจรจาเมื่อทุกคนใจเย็น</button>
                <button class="answer-button" data-choice="Q7D">ชี้ให้เห็นถึงเป้าหมายร่วมกันของภารกิจ เพื่อให้ทุกคนกลับมารวมใจกัน</button>
            </div>
        </div>

        <!-- Question 8 -->
        <div id="question8" class="game-screen bg-question8">
            <h2 class="font-bold mb-8 text-gray-800 px-4">
                ด่านสุดท้ายมีโอกาสก้าวหน้าโดดเดี่ยว<br>
                แต่ทีมอ่อนแอลง<br>ท่านจะเลือกหนทางใด?
            </h2>
            <div class="flex flex-col items-center w-full max-w-2xl">
                <button class="answer-button" data-choice="Q8A">สละโอกาสส่วนตน เพื่ออยู่เคียงข้างและนำพาทีมให้สำเร็จภารกิจร่วมกัน</button>
                <button class="answer-button" data-choice="Q8B">ก้าวไปข้างหน้าตามลำพัง เพราะเชื่อว่าการบรรลุเป้าหมายสูงสุดของตนเป็นสิ่งสำคัญที่สุด</button>
                <button class="answer-button" data-choice="Q8C">หาหนทางที่ชาญฉลาด เพื่อให้ทั้งตนเองและทีมสามารถบรรลุเป้าหมายได้พร้อมกัน</button>
                <button class="answer-button" data-choice="Q8D">ขอให้ทีมสนับสนุนการก้าวไปข้างหน้าของตน แล้วสัญญาว่าจะกลับมาช่วยเหลือเมื่อบรรลุเป้าหมาย</button>
            </div>
        </div>

        <!-- Intro 5 -->
        <div id="intro5" class="game-screen bg-intro5">
            <div class="intro-text-container">
                <p><strong>ในทุกปี เมื่อศิษย์ผ่านด่านผนึกใจได้แล้ว</strong></p>
                <p><strong>จะต้องเข้าร่วมเทศกาลประกายธาตุ</strong><br>
                ณ หุบเขาแห่งธาตุ (ลานประลองแห่งขุนเขา)</p>
                <p>เทศกาลนี้มิใช่การประลองพลัง<br>เพื่อชี้ขาดว่าธาตุใดแกร่งกล้าที่สุด<br>
                แต่เป็นบททดสอบความสามัคคี<br>และการร่วมใจฝ่าฟันอุปสรรค</p>
            </div>
            <div id="tapToContinue5" class="tap-to-continue">แตะเพื่อก้าวไปข้างหน้า</div>
        </div>

        <!-- Intro 6 -->
        <div id="intro6" class="game-screen bg-intro6 intro-auto-advance">
            <div class="intro-text-container">
                <p>เพราะ "ธาตุ" คืออัตลักษณ์แท้จริงของแต่ละคน<br>ที่นี่คือบททดสอบแห่งจิตวิญญาณ</p>
                <p>เพราะ "พลังที่แท้จริง" ไม่ได้อยู่ที่ธาตุ<br>แต่อยู่ที่หัวใจที่รวมเป็นหนึ่งเดียว</p>
            </div>
            <!-- This intro automatically advances -->
        </div>

        <!-- Question 9 -->
        <div id="question9" class="game-screen bg-question9">
            <h2 class="font-bold mb-8 text-gray-800 px-4">
                ทีมต้องเปิดผนึกประตูโบราณ<br>
                แต่ศิษย์ไม่คุ้นเคย ท่านจะทำอย่างไร?
            </h2>
            <div class="flex flex-col items-center w-full max-w-2xl">
                <button class="answer-button" data-choice="Q9A">เป็นแกนนำในการประสานพลังด้วยตนเอง และคอยปรับแก้ให้ผู้อื่นทำตาม</button>
                <button class="answer-button" data-choice="Q9B">อธิบายหลักการประสานพลังให้ศิษย์ที่ไม่เข้าใจอย่างละเอียด และฝึกซ้อมด้วยกันจนเชี่ยวชาญ</button>
                <button class="answer-button" data-choice="Q9C">ให้ศิษย์ผู้เชี่ยวชาญแต่ละธาตุผลัดกันลองนำ เพื่อหาวิธีประสานที่ดีที่สุด</button>
                <button class="answer-button" data-choice="Q9D">ให้กำลังใจและสร้างบรรยากาศผ่อนคลาย เพื่อลดความกดดันให้ทุกคนทำตามสัญชาตญาณ</button>
            </div>
        </div>

        <!-- Question 10 -->
        <div id="question10" class="game-screen bg-question10">
            <h2 class="font-bold mb-8 text-gray-800 px-4">
                ทีมเผชิญศัตรูแกร่ง<br>
                พลังศิษย์อ่อนล้า<br>
                ท่านจะนำทีมผ่านอย่างไร?
            </h2>
            <div class="flex flex-col items-center w-full max-w-2xl">
                <button class="answer-button" data-choice="Q10A">เข้าปะทะกับศัตรูอย่างเด็ดเดี่ยว เพื่อถ่วงเวลาให้เพื่อนได้ฟื้นตัว</button>
                <button class="answer-button" data-choice="Q10B">ปรับเปลี่ยนแผนการต่อสู้ โดยใช้จุดแข็งของแต่ละคนให้เกิดประโยชน์สูงสุด</button>
                <button class="answer-button" data-choice="Q10C">ถอยทัพอย่างมีระเบียบ เพื่อรักษาพลังงานและหาจังหวะสวนกลับในภายหลัง</button>
                <button class="answer-button" data-choice="Q10D">ใช้พลังจิตสร้างภาพลวงตา เพื่อหลอกล่อศัตรูและสร้างโอกาสให้ทีมรอดพ้น</button>
            </div>
        </div>

        <!-- Question 11 -->
        <div id="question11" class="game-screen bg-question11">
            <h2 class="font-bold mb-8 text-gray-800 px-4">
                ภารกิจปกป้อง "ผลึกแห่งความสามัคคี"<br>
                มีโอกาสได้พลังธาตุใหม่<br>
                ท่านจะตัดสินใจอย่างไร?
            </h2>
            <div class="flex flex-col items-center w-full max-w-2xl">
                <button class="answer-button" data-choice="Q11A">ละทิ้งการปกป้องชั่วคราว เพื่อรับพลังธาตุใหม่ เพราะเชื่อว่าจะนำมาซึ่งชัยชนะที่ยิ่งใหญ่กว่า</button>
                <button class="answer-button" data-choice="Q11B">ยึดมั่นในการปกป้องผลึก ไม่หวั่นไหวต่อพลังล่อใจ เพราะความสามัคคีคือหัวใจของภารกิจ</button>
                <button class="answer-button" data-choice="Q11C">พยายามหาวิธีที่จะได้รับพลังธาตุใหม่ โดยไม่ละทิ้งการปกป้องผลึก หรือหาผู้ที่เหมาะสมมาดูแลแทน</button>
                <button class="answer-button" data-choice="Q11D">หารือกับทีมเกี่ยวกับโอกาสนี้ เพื่อให้ทุกคนมีส่วนร่วมในการตัดสินใจและเข้าใจผลลัพธ์</button>
            </div>
        </div>

        <!-- Question 12 -->
        <div id="question12" class="game-screen bg-question12">
            <h2 class="font-bold mb-8 text-gray-800 px-4">
                ด่านสุดท้ายใช้พลังมิตรภาพ<br>
                เพื่อปลดปล่อย "ประกายธาตุ" ที่แท้จริง<br>
                แต่ศิษย์ไม่เชื่อมั่น<br>
                ท่านจะสร้างความสามัคคีนี้อย่างไร?
            </h2>
            <div class="flex flex-col items-center w-full max-w-2xl">
                <button class="answer-button" data-choice="Q12A">ใช้พลังวิชาของท่านกระตุ้นและดึงศักยภาพของศิษย์คนนั้นออกมาอย่างเด็ดขาด</button>
                <button class="answer-button" data-choice="Q12B">เข้าไปปลอบโยนและให้กำลังใจอย่างจริงใจ ชี้ให้เห็นถึงคุณค่าที่เขามีต่อทีม</button>
                <button class="answer-button" data-choice="Q12C">จัดตำแหน่งให้ศิษย์คนนั้นอยู่ในจุดที่ใช้พลังน้อยที่สุด หรือไม่ต้องใช้เลย เพื่อให้ผ่านไปได้</button>
                <button class="answer-button" data-choice="Q12D">นำทุกคนในทีมมารวมใจกัน แสดงความเชื่อมั่นในตัวศิษย์คนนั้น เพื่อให้เขารู้สึกถึงพลังแห่งการสนับสนุน</button>
            </div>
        </div>


        <!-- Intro 7 -->
        <div id="intro7" class="game-screen bg-intro7 intro-auto-advance">
            <div class="intro-text-container">
                <p>หลังผ่านเทศกาลประกายธาตุ<br>เหล่าศิษย์จะกลายเป็นศิษย์ของดินแดนมู่คา</p>
                <p>และต้องเรียนรู้คุณธรรม<br>ผ่าน "แก่นแท้แห่งมู่คา"</p>
            </div>
        </div>

        <!-- Intro 8 -->
        <div id="intro8" class="game-screen bg-intro8 intro-auto-advance">
            <div class="intro-text-container">
                <p>หลังศึกษา ฝึกฝน<br>และเข้าใจ "แก่นแท้แห่งมู่คา"</p>
                <p>ถึงเวลาเฉลิมฉลองยินดีกับเหล่าศิษย์<br>ในงานเลี้ยงพิเศษนี้</p>
            </div>
        </div>

        <!-- Intro 9 -->
        <div id="intro9" class="game-screen bg-intro9 intro-auto-advance">
            <div class="intro-text-container">
                <p>งานเลี้ยงส่งนี้ไม่ใช่ครั้งสุดท้าย<br>ที่เราจะได้เจอกัน</p>
                <p>แต่คือจุดเริ่มต้นที่ศิษย์ทุกคน<br>จะได้ออกไปผจญภัยในโลกยุทธภพ</p>
                <p>เป็นจอมยุทธ์เปี่ยมคุณธรรม</p>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loadingScreen" class="game-screen bg-loading">
            <div class="loading-content">
                <p>กำลังถักทอเส้นใยแห่งโชคชะตา...<br>เพื่อเปิดเผยธาตุที่ซ่อนเร้นในตัวท่าน</p>
                <div class="hourglass-emoji">⏳</div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="resultScreen" class="game-screen bg-result">
            <div id="resultDisplay" class="mt-4 text-gray-700"></div>
            <button id="playAgainButton" class="mt-4 answer-button hidden">เล่นใหม่อีกครั้ง</button>
        </div>
    </div>


    <script>
        // Define variables to store scores for each element
        let currentElementScores = {
            'ดิน': 0, 'น้ำ': 0, 'ลม': 0, 'ไฟ': 0, 'สายฟ้า': 0,
            'แสง': 0, 'ความมืด': 0, 'พลังจิต': 0, 'พฤกษา': 0, 'โลหะ': 0
        };

        // Define element data including icons, descriptions, and keywords
        // Using Emojis for icons for self-contained HTML
        const elementData = {
            'ดิน': {
                icon: '⛰️', // Alternative:  '🌐'
                description: 'ท่านเป็นเหมือน ผืนดินที่มั่นคง ดุจภูผาที่หยั่งรากลึกและขุนเขาที่สง่างาม จิตใจของท่านเต็มไปด้วยความ อดทน ไม่หวั่นไหวต่อโชคชะตา เป็นที่พึ่งพิงอันมั่นคงให้กับผู้อื่น ท่านมักเลือกเส้นทางที่ มั่นคง ปลอดภัย ยึดมั่นในประเพณี แต่ความมุ่งมั่นนี้อาจกลายเป็นความ ดื้อรั้น แข็งกระด้าง และบางครั้งก็ดู เชื่องช้า หรือ ขาดความยืดหยุ่น ในสายตาคนอื่น',
                keywords: ['มั่นคง', 'อดทน', 'พึ่งพาได้', 'ผู้ให้', 'ดื้อรั้น'],
                strengths: ['มั่นคงและน่าเชื่อถือ: เป็นที่พึ่งพาได้เสมอ มีความรับผิดชอบสูง', 'อดทนและหนักแน่น: ไม่หวั่นไหวกับเรื่องเล็กน้อย มีความอดทนสูง'],
                weaknesses: ['ดื้อรั้นและปรับตัวยาก: ยากที่จะเปลี่ยนความคิดหรือทัศนคติ', 'เชื่องช้าและขาดความยืดหยุ่น: อาจใช้เวลานานในการตัดสินใจหรือลงมือทำ'],
                compatible: ['พฤกษา', 'โลหะ'],
                conflicting: ['น้ำ', 'ลม'],
                background: 'linear-gradient(135deg, #EFEBE9, #F9F9F9, #FFFFFF)' // very light brown-gray faded to white
            },
            'น้ำ': {
                icon: '💧', // Alternative: '🌊'
                description: 'ท่านเป็นเหมือน กระแสธาราอันไร้ขอบเขต ยามสงบก็ใสกระจ่าง ยามโกรธก็เชี่ยวกราก ท่านสามารถ ปรับตัว ได้เป็นเลิศ ดุจน้ำที่ไหลไปตามภาชนะ จิตใจของท่าน อ่อนโยน เปี่ยมด้วย เมตตา และ สัญชาตญาณอันลึกล้ำ มีความคิด สร้างสรรค์ ที่ไหลรินไม่ขาดสาย แต่ความ อ่อนไหว นี้ก็อาจทำให้ท่านจมดิ่งในอารมณ์ที่ แปรปรวน และมักเก็บซ่อนความลับไว้ในส่วนลึกของจิตใจ',
                keywords: ['ปรับตัว', 'อ่อนโยน', 'สัญชาตญาณ', 'แปรปรวน', 'สร้างสรรค์'],
                strengths: ['ปรับตัวเก่งและเห็นอกเห็นใจ: เข้ากับสถานการณ์และเข้าใจความรู้สึกผู้อื่นได้ดี', 'สัญชาตญาณแม่นยำและสร้างสรรค์: มักเชื่อในลางสังหรณ์และมีไอเดียใหม่ ๆ'],
                weaknesses: ['อารมณ์แปรปรวนและอ่อนไหวเกินไป: อารมณ์เปลี่ยนแปลงง่ายและรับความรู้สึกผู้อื่นมามาก', 'ไม่เด็ดขาดและเก็บกดอารมณ์: ลังเลในการตัดสินใจและซ่อนความรู้สึก'],
                compatible: ['พฤกษา', 'โลหะ'],
                conflicting: ['ไฟ', 'ดิน'],
                background: 'linear-gradient(135deg, #E0F8F8, #E0FDFD, #FFFFFF)' // very light cyan faded to white
            },
            'ลม': {
                icon: '☁️', // Alternative:  '🌪️'
                description: 'ท่านเป็นเหมือน วายุอันบริสุทธิ์ ดุจปีกวิหคที่โบยบินสู่ฟ้ากว้าง จิตใจของท่านกระหาย อิสระ ไม่ผูกมัดกับสิ่งใด มีความคิด ริเริ่มสร้างสรรค์ เป็นเลิศ ดุจกระแสลมที่นำพาสิ่งใหม่ ๆ มาสู่โลก ท่าน ฉลาดเฉลียว ว่องไว ในทุกการกระทำ แต่ความรักในอิสระนี้ก็อาจนำมาซึ่งความ ไม่มั่นคง เปลี่ยนแปลงง่าย และอาจดูเหมือนไม่จริงจังกับสิ่งใดเป็นพิเศษ',
                keywords: ['อิสระ', 'รวดเร็ว', 'เปลี่ยนแปลง', 'ว่องไว', 'ใจร้อน'],
                strengths: ['รักอิสระและปรับตัวเก่ง: ไม่ชอบการผูกมัดและพร้อมที่จะเปลี่ยนแปลง', 'ฉับไวและมีไหวพริบ: มีไอเดียใหม่ ๆ และคิดเร็วทำเร็ว'],
                weaknesses: ['ไม่มั่นคงและเปลี่ยนแปลงง่าย: อาจจะเปลี่ยนใจง่ายหรือขาดความมุ่งมั่น', 'ใจร้อนและขาดความอดทน: ไม่ชอบอะไรที่รอช้า'],
                compatible: ['ไฟ', 'สายฟ้า'],
                conflicting: ['ดิน', 'โลหะ'],
                background: 'linear-gradient(135deg, #FDFDFD, #FDFDFD, #FFFFFF)' // almost white faded to white
            },
            'ไฟ': {
                icon: '🔥', // Alternative:  '🌋'
                description: 'ท่านเป็นเหมือน เปลวเพลิงอันลุกโชน ดุจดวงอาทิตย์ที่แผดจ้า ท่านมี พลังงานล้นเหลือ เปี่ยมด้วยความ กระตือรือร้น เป็น ผู้นำ โดยธรรมชาติ กล้าหาญ ไม่เกรงกลัว มีความ มุ่งมั่น ดุจไฟที่เผาผลาญทุกสิ่งจนกว่าจะบรรลุเป้าหมาย แต่ไฟก็มีสองคมเช่นกัน หากขาดการควบคุมก็จะกลายเป็นเพลิงกัลป์ และนำมาซึ่งความ ใจร้อน หุนหันพลันแล่น ไม่ยั้งคิด',
                keywords: ['พลังงานสูง', 'มุ่งมั่น', 'ผู้นำ', 'กล้าหาญ', 'หุนหันพลันแล่น'],
                strengths: ['มีพลังงานและความกระตือรือร้นสูง: เต็มไปด้วยไฟในการใช้ชีวิต', 'เป็นผู้นำและกล้าหาญ: กล้าตัดสินใจและพร้อมที่จะเผชิญหน้า'],
                weaknesses: ['ใจร้อนและหุนหันพลันแล่น: อารมณ์ขึ้นลงเร็วและลงมือทำโดยไม่ไตร่ตรอง', 'เผาผลาญตัวเองและชอบการแข่งขัน: อาจใช้พลังงานมากเกินไปและทะเยอทะยานสูง'],
                compatible: ['ลม', 'พฤกษา'],
                conflicting: ['น้ำ', 'ความมืด'],
                background: 'linear-gradient(135deg, #FFFAF5, #FFECEC, #FFFFFF)' // very light peach faded to white
            },
            'สายฟ้า': {
                icon: '⚡', // Alternative: '🌩️', '🔌'
                description: 'ท่านเป็นเหมือน อัสนีบาตอันเจิดจ้า ดุจประกายฟ้าแห่งการรู้แจ้ง ท่านมีความ รวดเร็ว และ ฉับไว ในทุกกระบวนท่า มี ไหวพริบ เป็นเลิศ สามารถแก้ไขสถานการณ์เฉพาะหน้าได้อย่างน่าอัศจรรย์ มี พลังในการเปลี่ยนแปลง และสร้างสรรค์สิ่งใหม่ ๆ ได้อย่างพลิกฟ้าพลิกแผ่นดิน แต่ความรวดเร็วและพลังอำนาจนี้ก็อาจนำมาซึ่งความ คาดเดาไม่ได้ และอาจสร้างความตื่นตระหนกแก่ผู้ที่อ่อนแอได้',
                keywords: ['ฉับไว', 'เปลี่ยนแปลง', 'ไหวพริบ', 'คาดเดาไม่ได้', 'ทรงพลัง'],
                strengths: ['รวดเร็วและมีประสิทธิภาพ: ตัดสินใจและลงมือทำได้อย่างรวดเร็ว', 'มีไหวพริบและทรงพลัง: แก้ปัญหาเฉพาะหน้าได้เก่งและมีพลังในการเปลี่ยนแปลง'],
                weaknesses: ['คาดเดาไม่ได้และไม่แน่นอน: การกระทำและอารมณ์อาจเปลี่ยนแปลงอย่างกะทันหัน', 'อาจทำลายล้างและใจร้อน: พลังที่มากเกินไปอาจสร้างความเสียหายและไม่ชอบความล่าช้า'],
                compatible: ['ลม', 'โลหะ'],
                conflicting: ['ดิน', 'พฤกษา'],
                background: 'linear-gradient(135deg, #FFFFF0, #FFFFF8, #FFFFFF)' // ivory faded to white
            },
            'แสง': {
                icon: '🔆', // Alternative: '💡'
                description: 'ท่านเป็นเหมือน รัศมีแห่งรุ่งอรุณ ดุจดวงอาทิตย์ที่สาดส่องความมืดมิด จิตใจของท่าน บริสุทธิ์ผุดผ่อง เป็นผู้ มองโลกในแง่ดี เปี่ยมด้วย ปัญญา และความเข้าใจที่ชัดเจน สามารถเป็น แรงบันดาลใจ ให้ผู้อื่นก้าวเดินไปในทางที่ถูกต้อง แต่ความสว่างไสวนี้ก็อาจทำให้ท่าน อ่อนไหวต่อเงามืด และปรารถนา ความสมบูรณ์แบบ ที่อาจยากจะเข้าถึงในโลกแห่งความเป็นจริง',
                keywords: ['สดใส', 'บริสุทธิ์', 'ปัญญา', 'แรงบันดาลใจ', 'อ่อนไหว'],
                strengths: ['มองโลกในแง่ดีและบริสุทธิ์ใจ: สร้างบรรยากาศที่ดีและมีความซื่อตรง', 'มีปัญญาและเป็นแรงบันดาลใจ: สามารถให้คำแนะนำที่ดีและชี้นำผู้อื่นได้'],
                weaknesses: ['อ่อนไหวต่อด้านลบและโลกสวยเกินไป: ไม่ชอบความมืดหรือปัญหาที่ซับซ้อนและอาจมองข้ามความเป็นจริง', 'คาดหวังความสมบูรณ์แบบและอาจตัดสินผู้อื่น: อาจจะกดดันตนเองและผู้อื่นมากเกินไป'],
                compatible: ['ไฟ', 'ลม'],
                conflicting: ['ความมืด'],
                background: 'linear-gradient(135deg, #FFFCEF, #FFFFF5, #FFFFFF)' // very light cream faded to white
            },
            'ความมืด': {
                icon: '🌒', // Alternative: '🌌', '🦇'
                description: 'ท่านเป็นเหมือน เงามืดอันเร้นลับ ดุจห้วงอวกาศอันไร้ที่สิ้นสุด ท่านไม่จำเป็นต้องชั่วร้าย แต่มีจิตใจที่ ลึกลับซับซ้อน ยากแก่การหยั่งถึง มีความคิด อิสระ และ สัญชาตญาณอันแข็งแกร่ง สามารถมองเห็นในสิ่งที่ผู้อื่นมองไม่เห็น มักจะชอบ เก็บตัว และใคร่ครวญในห้วงความคิดอันลึกซึ้ง แต่ความลึกลับนี้ก็อาจนำมาซึ่งความ โดดเดี่ยว และอาจมีด้านที่ คาดเดาไม่ได้ ซึ่งพร้อมจะเผยออกมาในยามที่ถูกกระตุ้น',
                keywords: ['ลึกลับ', 'ซับซ้อน', 'อิสระ', 'เก็บตัว', 'คาดเดาไม่ได้'],
                strengths: ['มีความลึกซึ้งและสัญชาตญาณที่แข็งแกร่ง: เข้าใจสิ่งต่าง ๆ ได้อย่างลึกซึ้งและรับรู้ถึงสิ่งที่ไม่สามารถมองเห็นได้', 'เป็นอิสระและพึ่งพาตนเอง: ไม่ต้องการการยอมรับจากผู้อื่นมากนัก'],
                weaknesses: ['อาจดูโดดเดี่ยวและเข้าใจยาก: มักเก็บตัวและไม่เปิดเผยตัวตน', 'มีด้านมืดและคาดเดาไม่ได้: หากควบคุมได้ไม่ดี อาจจมดิ่งในความคิดด้านลบ'],
                compatible: ['พลังจิต', 'น้ำ'],
                conflicting: ['แสง', 'ไฟ'],
                background: 'linear-gradient(135deg, #F5F5F7, #E8E8EC, #D0D0D5, #FFFFFF)' // very light gray-purple faded to white, hinting at darker tones
            },
            'พลังจิต': {
                icon: '🧠', // Alternative: '🔮'
                description: 'ท่านเป็นเหมือน จิตวิญญาณผู้หยั่งรู้ ดุจห้วงความคิดอันไร้ขีดจำกัด ท่านมี สัญชาตญาณ อันคมกล้า สามารถรับรู้และเข้าใจความรู้สึกของผู้อื่นได้อย่างลึกซึ้ง มีความคิดที่ ซับซ้อน และ ล้ำลึก ชอบการ วิเคราะห์ และเชื่อมโยงสิ่งต่าง ๆ เข้าด้วยกัน สามารถควบคุมและเปลี่ยนแปลงสิ่งต่าง ๆ ได้ด้วย พลังแห่งจิต แต่ความอ่อนไหวต่อจิตใจผู้อื่นก็อาจทำให้ท่านรับภาระมากเกินไป และอาจดูเหมือน แยกตัวออกจากสังคม เพื่อรักษาความสมดุลทางจิตใจของตน',
                keywords: ['หยั่งรู้', 'อ่อนไหว', 'ซับซ้อน', 'วิเคราะห์', 'ควบคุม'],
                strengths: ['เข้าใจผู้อื่นอย่างลึกซึ้งและมีปัญญา: มีความเห็นอกเห็นใจและคิดวิเคราะห์ได้ดี', 'มีความสามารถพิเศษและเป็นนักแก้ปัญหา: มีศักยภาพที่จะทำสิ่งที่เหนือธรรมชาติ'],
                weaknesses: ['อ่อนไหวเกินไปและเครียดง่าย: อาจจะรับพลังงานด้านลบมามากเกินไป', 'โดดเดี่ยวและเข้าใจยาก: ความคิดที่ล้ำลึกอาจทำให้ผู้อื่นเข้าไม่ถึง'],
                compatible: ['ความมืด', 'ลม'],
                conflicting: ['โลหะ', 'ดิน'],
                background: 'linear-gradient(135deg, #FFEBEB, #EBF3FF, #EBFBEB, #FFFEEB, #F9EBFF, #FFFFFF)' // very light pastel rainbow
            },
            'โลหะ': {
                icon: '⚔️', // Alternative: '⚙️
                description: 'ท่านเป็นเหมือน คมดาบศักดิ์สิทธิ์ ที่ฟาดฟันความอยุติธรรม และ โล่เหล็กกล้า ที่ไม่อาจเจาะทะลุได้ จิตวิญญาณของท่าน เฉียบคม เด็ดขาด และเปี่ยมด้วย ระเบียบวินัย ยึดมั่นใน ความถูกต้องและความยุติธรรม อย่างเคร่งครัด มีความสามารถในการ วิเคราะห์และแยกแยะ สิ่งต่าง ๆ ได้อย่างเป็นระบบ แต่ความเด็ดขาดนี้อาจนำมาซึ่งความ แข็งกระด้าง และ การขาดความยืดหยุ่น และบางครั้งก็ ขาดความเห็นอกเห็นใจ หรือความเข้าใจในความรู้สึกของผู้อื่น',
                keywords: ['เด็ดขาด', 'ยุติธรรม', 'มีระเบียบ', 'แข็งกร้าว', 'วิเคราะห์'],
                strengths: ['มีความยุติธรรมและมีระเบียบวินัยสูง: ยึดมั่นในความถูกต้องและทำสิ่งต่าง ๆ อย่างเป็นระบบ', 'เด็ดขาดและแข็งแกร่ง: สามารถตัดสินใจและยืนหยัดปกป้องสิ่งที่เชื่อมั่นได้'],
                weaknesses: ['แข็งกระด้างและยืดหยุ่นน้อย: ไม่ค่อยยอมปรับเปลี่ยนและยึดติดกับกฎเกณฑ์', 'ขาดความเห็นอกเห็นใจและอาจดูเย็นชา: เน้นเหตุผลมากเกินไปและไม่ค่อยแสดงอารมณ์'],
                compatible: ['ดิน', 'น้ำ'],
                conflicting: ['ไฟ', 'ลม'],
                background: 'linear-gradient(135deg, #EFEFF1, #F8F8F9, #FFFFFF)' // very light blue-gray faded to white
            },
            'พฤกษา': {
                icon: '🌳', // Alternative: '🌿', '🌸', '🍄'
                description: 'ท่านเป็นเหมือน ไม้ยืนต้นอันหยั่งรากลึก และ ดอกไม้ที่เบ่งบานงดงาม จิตใจของท่านสงบเยือกเย็น มีความ อดทน สูงยิ่ง สามารถผ่านพ้นอุปสรรคและเติบโตขึ้นได้อย่างแข็งแกร่ง ท่านมีความ เอื้อเฟื้อเผื่อแผ่ รักธรรมชาติ และเปี่ยมไปด้วย ชีวิตชีวา สามารถฟื้นตัวจากความเสียหายได้รวดเร็ว แต่ความสงบนี้ก็อาจทำให้ท่านดู เชื่องช้า ในสายตาผู้อื่น และ อ่อนไหวต่อสภาพแวดล้อม ที่แปรปรวนจนบางครั้งขาดความกระตือรือร้น',
                keywords: ['อดทน', 'เติบโต', 'เอื้อเฟื้อ', 'ชีวิตชีวา', 'อ่อนไหว'],
                strengths: ['ความอดทนสูงและใจเย็น: สามารถรอคอยและอดทนต่อความยากลำบากได้ดี', 'เป็นผู้ให้และฟื้นตัวได้ดี: ชอบช่วยเหลือผู้อื่นและสามารถฟื้นจากความผิดหวังได้'],
                weaknesses: ['เชื่องช้าและขาดความกระตือรือร้น: อาจใช้เวลานานในการตัดสินใจและดูเฉื่อยชา', 'อ่อนไหวต่อสภาพแวดล้อมและไม่ชอบเผชิญหน้า: อารมณ์เปลี่ยนแปลงตามสิ่งรอบข้างและหลีกเลี่ยงความขัดแย้ง'],
                compatible: ['น้ำ', 'ดิน'],
                conflicting: ['ไฟ', 'โลหะ'],
                background: 'linear-gradient(135deg, #F0FFF0, #F8FFF8, #FFFFFF)' // honeydew faded to white
            }
        };

        // Define element scores for each choice
        const choiceScores = {
            // Question 1 Scores (Refugee Crisis - Confirmed to this version)
            'Q1A': { 'น้ำ': 3, 'แสง': 2, 'พฤกษา': 2, 'ดิน': 1 },
            'Q1B': { 'ดิน': 3, 'โลหะ': 3, 'พลังจิต': 2, 'สายฟ้า': 1 },
            'Q1C': { 'ลม': 3, 'พลังจิต': 3, 'ความมืด': 2, 'น้ำ': 1 },
            'Q1D': { 'ไฟ': 3, 'สายฟ้า': 3, 'โลหะ': 2, 'ดิน': 1 },

            // Question 2 Scores (Discipline & Endurance)
            'Q2A': { 'ดิน': 3, 'โลหะ': 3, 'ไฟ': 2, 'ความมืด': 1 },
            'Q2B': { 'น้ำ': 2, 'พฤกษา': 3, 'ลม': 1, 'แสง': 1 },
            'Q2C': { 'แสง': 3, 'พลังจิต': 2, 'น้ำ': 1, 'ดิน': 1 },
            'Q2D': { 'พลังจิต': 3, 'ลม': 2, 'สายฟ้า': 1, 'ความมืด': 1 },

            // Question 3 Scores (Humility & Learning)
            'Q3A': { 'ไฟ': 3, 'โลหะ': 2, 'ดิน': 1, 'สายฟ้า': 1 },
            'Q3B': { 'พลังจิต': 3, 'ลม': 2, 'แสง': 1, 'น้ำ': 1 },
            'Q3C': { 'ความมืด': 2, 'พฤกษา': 2, 'ดิน': 1, 'ลม': 1 },
            'Q3D': { 'แสง': 3, 'สายฟ้า': 2, 'โลหะ': 1, 'พลังจิต': 1 },

            // Question 4 Scores (Adaptability & Unknown Phenomenon)
            'Q4A': { 'ไฟ': 3, 'โลหะ': 3, 'ความมืด': 2, 'ดิน': 1 },
            'Q4B': { 'ลม': 3, 'พลังจิต': 3, 'น้ำ': 2, 'แสง': 1 },
            'Q4C': { 'ดิน': 2, 'น้ำ': 1, 'พฤกษา': 2, 'แสง': 1 },
            'Q4D': { 'สายฟ้า': 3, 'แสง': 2, 'ลม': 1, 'ไฟ': 1 },

            // Question 6 Scores (Unity/Cooperation)
            'Q6A': { 'ไฟ': 3, 'โลหะ': 3, 'สายฟ้า': 2, 'ความมืด': 1 },
            'Q6B': { 'ลม': 3, 'น้ำ': 3, 'แสง': 2, 'พลังจิต': 1 },
            'Q6C': { 'ความมืด': 2, 'ดิน': 1, 'พฤกษา': 2, 'ลม': 1 },
            'Q6D': { 'น้ำ': 2, 'แสง': 2, 'พฤกษา': 2, 'ดิน': 1 },

            // Question 7 Scores (Trust/Conflict Resolution)
            'Q7A': { 'ไฟ': 3, 'โลหะ': 3, 'สายฟ้า': 2, 'ความมืด': 1 },
            'Q7B': { 'ลม': 3, 'พลังจิต': 3, 'น้ำ': 2, 'แสง': 1 },
            'Q7C': { 'ความมืด': 2, 'ดิน': 1, 'พฤกษา': 2, 'ลม': 1 },
            'Q7D': { 'แสง': 3, 'ไฟ': 2, 'ดิน': 1, 'โลหะ': 1 },

            // Question 8 Scores (Sacrifice for the Team)
            'Q8A': { 'น้ำ': 2, 'แสง': 2, 'พฤกษา': 3, 'ดิน': 1 },
            'Q8B': { 'ไฟ': 3, 'สายฟ้า': 3, 'ความมืด': 2, 'โลหะ': 1 },
            'Q8C': { 'พลังจิต': 3, 'ลม': 2, 'แสง': 1, 'โลหะ': 1 },
            'Q8D': { 'ดิน': 3, 'ไฟ': 2, 'โลหะ': 1, 'สายฟ้า': 1 },

            // Question 9 Scores (Elemental Synchronization / Team Learning)
            'Q9A': { 'ไฟ': 3, 'สายฟ้า': 3, 'โลหะ': 2, 'ความมืด': 1 },
            'Q9B': { 'พลังจิต': 3, 'ลม': 3, 'แสง': 2, 'น้ำ': 1 },
            'Q9C': { 'พฤกษา': 3, 'ดิน': 1, 'น้ำ': 1, 'ลม': 1 },
            'Q9D': { 'แสง': 3, 'น้ำ': 2, 'พฤกษา': 1, 'ดิน': 1 },

            // Question 10 Scores (Facing Strong Adversary / Resilience)
            'Q10A': { 'ไฟ': 3, 'สายฟ้า': 3, 'โลหะ': 2, 'ความมืด': 1 },
            'Q10B': { 'ลม': 3, 'พลังจิต': 3, 'แสง': 2, 'ดิน': 1 },
            'Q10C': { 'ความมืด': 2, 'ดิน': 2, 'น้ำ': 1, 'ลม': 1, 'พฤกษา': 2 },
            'Q10D': { 'พลังจิต': 3, 'แสง': 2, 'ลม': 1, 'ความมืด': 1 },

            // Question 11 Scores (Prioritizing Team vs. Individual Gain)
            'Q11A': { 'ไฟ': 3, 'สายฟ้า': 3, 'ความมืด': 2, 'โลหะ': 1 },
            'Q11B': { 'ดิน': 2, 'น้ำ': 2, 'แสง': 1, 'พฤกษา': 3 },
            'Q11C': { 'พลังจิต': 3, 'ลม': 2, 'สายฟ้า': 1, 'แสง': 1 },
            'Q11D': { 'แสง': 2, 'น้ำ': 2, 'ดิน': 1, 'พฤกษา': 3 },
            
            // Question 12 Scores (Final Unity / Trust)
            'Q12A': { 'ไฟ': 3, 'สายฟ้า': 3, 'โลหะ': 2, 'ความมืด': 1 },
            'Q12B': { 'น้ำ': 2, 'แสง': 2, 'พฤกษา': 3, 'ดิน': 1 },
            'Q12C': { 'ความมืด': 3, 'ดิน': 2, 'โลหะ': 1, 'ลม': 1 },
            'Q12D': { 'แสง': 3, 'พลังจิต': 2, 'น้ำ': 1, 'ลม': 1 }
        };

        // UI Elements
        const intro1Screen = document.getElementById('intro1');
        const intro2Screen = document.getElementById('intro2');
        const intro3Screen = document.getElementById('intro3');
        const intro4Screen = document.getElementById('intro4');
        const intro5Screen = document.getElementById('intro5');
        const intro6Screen = document.getElementById('intro6');
        const intro7Screen = document.getElementById('intro7');
        const intro8Screen = document.getElementById('intro8');
        const intro9Screen = document.getElementById('intro9');

        const question1Screen = document.getElementById('question1');
        const question2Screen = document.getElementById('question2');
        const question3Screen = document.getElementById('question3');
        const question4Screen = document.getElementById('question4');
        const question6Screen = document.getElementById('question6');
        const question7Screen = document.getElementById('question7');
        const question8Screen = document.getElementById('question8');
        const question9Screen = document.getElementById('question9');
        const question10Screen = document.getElementById('question10');
        const question11Screen = document.getElementById('question11');
        const question12Screen = document.getElementById('question12');

        const loadingScreen = document.getElementById('loadingScreen');
        const resultScreen = document.getElementById('resultScreen');

        const tapToContinue1 = document.getElementById('tapToContinue1');
        const tapToContinue2 = document.getElementById('tapToContinue2');
        const tapToContinue3 = document.getElementById('tapToContinue3');
        const tapToContinue4 = document.getElementById('tapToContinue4');
        const tapToContinue5 = document.getElementById('tapToContinue5');

        const question1Buttons = document.querySelectorAll('#question1 .answer-button');
        const question2Buttons = document.querySelectorAll('#question2 .answer-button');
        const question3Buttons = document.querySelectorAll('#question3 .answer-button');
        const question4Buttons = document.querySelectorAll('#question4 .answer-button');
        const question6Buttons = document.querySelectorAll('#question6 .answer-button');
        const question7Buttons = document.querySelectorAll('#question7 .answer-button');
        const question8Buttons = document.querySelectorAll('#question8 .answer-button');
        const question9Buttons = document.querySelectorAll('#question9 .answer-button');
        const question10Buttons = document.querySelectorAll('#question10 .answer-button');
        const question11Buttons = document.querySelectorAll('#question11 .answer-button');
        const question12Buttons = document.querySelectorAll('#question12 .answer-button');

        const resultDisplay = document.getElementById('resultDisplay');
        const messageBox = document.getElementById('messageBox');
        const messageText = document.getElementById('messageText');
        const messageCloseButton = document.getElementById('messageCloseButton');
        const playAgainButton = document.getElementById('playAgainButton');

        // Function to show a message box (replaces alert)
        function showMessage(message) {
            messageText.textContent = message;
            messageBox.classList.add('show');
        }

        // Event listener to close the message box
        messageCloseButton.addEventListener('click', () => {
            messageBox.classList.remove('show');
        });

        // Function to show "Tap to continue" button instantly
        function showTapToContinue(buttonElement) {
            buttonElement.style.visibility = 'visible';
            buttonElement.style.opacity = '1';
            buttonElement.style.pointerEvents = 'auto';
        }

        // Function to hide "Tap to continue" button instantly when clicked
        function hideTapToContinue(buttonElement) {
            buttonElement.style.visibility = 'hidden';
            buttonElement.style.opacity = '0';
            buttonElement.style.pointerEvents = 'none';
        }

        // Function to switch screens
        function showScreen(screenToShow) {
            // Hide all screens
            const allScreens = document.querySelectorAll('.game-screen');
            allScreens.forEach(screen => screen.classList.remove('active'));

            // Show the desired screen
            screenToShow.classList.add('active');

            // Hide the play again button on non-result screens
            if (screenToShow !== resultScreen) {
                playAgainButton.classList.add('hidden');
                resultDisplay.classList.add('hidden'); // Also hide the result text
            }
        }

        // Helper function for auto-advancing intros (text fades in, then moves to next screen)
        function autoAdvanceIntro(introScreenElement, textAnimationTotalDuration, nextScreenElement) {
            showScreen(introScreenElement);
            setTimeout(() => {
                const tapButton = introScreenElement.querySelector('.tap-to-continue');
                if (introScreenElement.classList.contains('intro-auto-advance')) {
                    showScreen(nextScreenElement);
                } else {
                    if (tapButton) {
                        showTapToContinue(tapButton);
                    }
                }
            }, textAnimationTotalDuration);
        }


        // When the page finishes loading
        window.onload = function() {
            autoAdvanceIntro(intro1Screen, 3200 + 500, intro2Screen);
        };

        // Event Listener for Intro 1
        tapToContinue1.addEventListener('click', () => {
            hideTapToContinue(tapToContinue1);
            autoAdvanceIntro(intro2Screen, 2400 + 500, question1Screen);
        });

        // Event Listener for Intro 2
        tapToContinue2.addEventListener('click', () => {
            hideTapToContinue(tapToContinue2);
            showScreen(question1Screen);
        });

        // Event Listener for Question 1 buttons
        question1Buttons.forEach(button => {
            button.addEventListener('click', (event) => {
                const choice = event.target.dataset.choice;
                applyScores(choice);
                autoAdvanceIntro(intro3Screen, 1600 + 500, question2Screen);
            });
        });

        // Event Listener for Intro 3
        tapToContinue3.addEventListener('click', () => {
            hideTapToContinue(tapToContinue3);
            showScreen(question2Screen);
        });


        // Event Listeners for Question 2 buttons
        question2Buttons.forEach(button => {
            button.addEventListener('click', (event) => {
                const choice = event.target.dataset.choice;
                applyScores(choice);
                showScreen(question3Screen);
            });
        });

        // Event Listeners for Question 3 buttons
        question3Buttons.forEach(button => {
            button.addEventListener('click', (event) => {
                const choice = event.target.dataset.choice;
                applyScores(choice);
                showScreen(question4Screen);
            });
        });

        // Event Listeners for Question 4 buttons (Now leads directly to Intro 4)
        question4Buttons.forEach(button => {
            button.addEventListener('click', (event) => {
                const choice = event.target.dataset.choice;
                applyScores(choice);
                autoAdvanceIntro(intro4Screen, 1600 + 500, question6Screen);
            });
        });

        // Event Listener for Intro 4
        tapToContinue4.addEventListener('click', () => {
            hideTapToContinue(tapToContinue4);
            showScreen(question6Screen);
        });

        // Event Listeners for Question 6 buttons
        question6Buttons.forEach(button => {
            button.addEventListener('click', (event) => {
                const choice = event.target.dataset.choice;
                applyScores(choice);
                showScreen(question7Screen);
            });
        });

        // Event Listeners for Question 7 buttons
        question7Buttons.forEach(button => {
            button.addEventListener('click', (event) => {
                const choice = event.target.dataset.choice;
                applyScores(choice);
                showScreen(question8Screen);
            });
        });

        // Event Listeners for Question 8 buttons (Now leads to Intro 5)
        question8Buttons.forEach(button => {
            button.addEventListener('click', (event) => {
                const choice = event.target.dataset.choice;
                applyScores(choice);
                autoAdvanceIntro(intro5Screen, 2400 + 500, intro6Screen);
            });
        });

        // Event Listener for Intro 5
        tapToContinue5.addEventListener('click', () => {
            hideTapToContinue(tapToContinue5);
            autoAdvanceIntro(intro6Screen, 800 + 500, question9Screen);
        });

        // Event Listeners for Question 9 buttons
        question9Buttons.forEach(button => {
            button.addEventListener('click', (event) => {
                const choice = event.target.dataset.choice;
                applyScores(choice);
                showScreen(question10Screen);
            });
        });

        // Event Listeners for Question 10 buttons
        question10Buttons.forEach(button => {
            button.addEventListener('click', (event) => {
                const choice = event.target.dataset.choice;
                applyScores(choice);
                showScreen(question11Screen);
            });
        });

        // Event Listeners for Question 11 buttons
        question11Buttons.forEach(button => {
            button.addEventListener('click', (event) => {
                const choice = event.target.dataset.choice;
                applyScores(choice);
                showScreen(question12Screen);
            });
        });

        // Event Listeners for Question 12 buttons (Last Question, leads to final Intro sequence then loading and results)
        question12Buttons.forEach(button => {
            button.addEventListener('click', (event) => {
                const choice = event.target.dataset.choice;
                applyScores(choice);

                // Start the final auto-advance intro sequence (Intro 7 -> Intro 8 -> Intro 9 -> Loading -> Results)
                autoAdvanceIntro(intro7Screen, 800 + 2000, intro8Screen);
                setTimeout(() => {
                    autoAdvanceIntro(intro8Screen, 800 + 2000, intro9Screen);
                    setTimeout(() => {
                        autoAdvanceIntro(intro9Screen, 2400 + 2000, loadingScreen);
                        setTimeout(() => {
                            showScreen(resultScreen);
                            displayResults();
                            playAgainButton.classList.remove('hidden');
                        }, 7000); // Duration for loading screen (7 seconds - slower)
                    }, 2800); // Delay before Intro 9 starts (after Intro 8 finishes)
                }, 2800); // Delay before Intro 8 starts (after Intro 7 finishes)
            });
        });

        // Event Listener for Play Again Button
        playAgainButton.addEventListener('click', () => {
            // Reset scores
            for (const element in currentElementScores) {
                currentElementScores[element] = 0;
            }
            // Hide result display and play again button
            resultDisplay.classList.add('hidden');
            playAgainButton.classList.add('hidden');
            // Start over from Intro 1
            autoAdvanceIntro(intro1Screen, 3200 + 500, intro2Screen);
        });


        // Function to add element scores
        function applyScores(choice) {
            const scoresToAdd = choiceScores[choice];
            for (const element in scoresToAdd) {
                if (currentElementScores.hasOwnProperty(element)) {
                    currentElementScores[element] += scoresToAdd[element];
                }
            }
            console.log("Current Scores:", currentElementScores);
        }

        // Function to display results
        function displayResults() {
            // Find the element(s) with the highest score
            let maxScore = -1;
            let dominantElements = [];
            for (const element in currentElementScores) {
                if (currentElementScores[element] > maxScore) {
                    maxScore = currentElementScores[element];
                    dominantElements = [element];
                } else if (currentElementScores[element] === maxScore) {
                    dominantElements.push(element);
                }
            }

            // Get data for the dominant element (if multiple, just use the first one)
            const dominantElement = dominantElements[0];
            const data = elementData[dominantElement];

            if (!data) {
                resultDisplay.innerHTML = `<p class="text-red-500">ไม่พบข้อมูลสำหรับธาตุ: ${dominantElement}</p>`;
                resultDisplay.classList.remove('hidden');
                return;
            }

            // Set the background of the result screen
            resultScreen.style.background = data.background;

            let resultHtml = `
                <div class="bg-result-card rounded-xl shadow-2xl result-card-container mx-auto text-center border border-gray-200">
                    <h1 class="font-extrabold text-gray-800 mb-3">
                        ธาตุ${dominantElement}
                    </h1>
                    <div class="flex flex-col items-center mb-3">
                        <span class="element-icon mb-1">${data.icon}</span>
                        <h2 class="font-bold text-gray-800 mb-2"></h2>
                        <p class="text-base text-gray-700 max-w-xs mx-auto mb-2">${data.description}</p>
                        <div class="flex flex-wrap justify-center gap-1">
                            ${data.keywords.map(k => `<span class="px-1.5 py-0.5 bg-gray-100 rounded-md border border-gray-300 text-sm text-gray-700 italic">${k}</span>`).join('')}
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2 mb-4 text-base">
                        <div class="bg-blue-50 p-2 rounded-lg border border-blue-200 text-left">
                            <h3 class="font-semibold text-blue-800 mb-1">จุดเด่น:</h3>
                            <ul class="list-disc list-inside text-gray-600 text-sm pl-1.5 mb-1.5">
                                ${data.strengths.map(s => `<li>${s}</li>`).join('')}
                            </ul>
                            <h3 class="font-semibold text-blue-800 mb-1">ควรพัฒนา:</h3>
                            <ul class="list-disc list-inside text-gray-600 text-sm pl-1.5">
                                ${data.weaknesses.map(w => `<li>${w}</li>`).join('')}
                            </ul>
                        </div>

                        <div class="bg-green-50 p-2 rounded-lg border border-green-200 text-left">
                            <h3 class="font-semibold text-green-800 mb-1">ความสัมพันธ์:</h3>
                            <div class="mb-1.5">
                                <h4 class="font-medium text-gray-700 text-base">เข้ากันได้ดีกับ:</h4>
                                <ul class="list-disc list-inside text-gray-600 text-sm pl-1.5">
                                    ${data.compatible.map(c => `<li>ธาตุ ${c}</li>`).join('')}
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-700 text-base">ขัดแย้งกับ:</h4>
                                <ul class="list-disc list-inside text-gray-600 text-sm pl-1.5">
                                    ${data.conflicting.map(f => `<li>ธาตุ ${f}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>

                    <p class="font-semibold mb-4 text-gray-800">
                        ขอให้การค้นพบธาตุที่แท้จริงในตัวท่านนี้ นำพาซึ่งความเข้าใจตนเองและพลังอันยิ่งใหญ่<br>
                        เพื่อนำทางสู่ความรุ่งโรจน์ในทุกเส้นทางชีวิตของท่าน!
                    </p>

                    <div class="bg-white p-3 rounded-lg border border-gray-200 mt-4">
                        <h3 class="text-lg font-semibold text-purple-800 mb-2">สำหรับเหล่า MUKA68</h3>
                        <p class="text-base text-gray-700 mb-2">
                            ผู้ที่ต้องการเข้าร่วมการฝึกตนในดินแดนมู่คา เพื่อค้นพบศักยภาพที่แท้จริงในตัวท่าน<br>
                            มาร่วมผจญภัยและเติบโตไปพร้อมกับเรา
                        </p>
                        <a href="https://docs.google.com/forms/d/e/1FAIpQLSdjQIRD6qnVHZB4vWeQaTfvMeocCXgZqZTfcU8w-CXlWVHcmg/viewform" target="_blank" class="inline-block bg-purple-600 hover:bg-purple-700 text-white font-bold py-1.5 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 text-base">
                            สมัครเข้าร่วมค่าย MUKA68 ที่นี่!
                        </a>
                    </div>
                </div>
            `;

            resultDisplay.innerHTML = resultHtml;
            resultDisplay.classList.remove('hidden');
        }

        // --- Global Variables (as per instructions, though not used in this front-end only app) ---
        // These variables are typically provided by the Canvas environment for backend integration.
        // For a purely client-side HTML app for GitHub, they are just declared here as placeholders.
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        // These variables are for Firebase integration and not directly used in this standalone HTML/JS game logic.
        // const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null; 

        // Dummy userId for frontend only, if needed conceptually
        const userId = 'user_' + crypto.randomUUID();
        console.log(`App ID: ${appId}`);
        console.log(`User ID (conceptual): ${userId}`);
        // console.log(`Firebase Config:`, firebaseConfig); // Uncomment if you want to see the dummy config
        // console.log(`Initial Auth Token:`, initialAuthToken); // Uncomment if you want to see the dummy token

        // No Firebase initialization/auth needed for this purely frontend game as per current requirements.
        // If data persistence (e.g., user scores, multiple questions) were requested, Firestore would be integrated here.

    </script>
</body>
</html>
